# 学生成绩管理系统 - 操作指南

## 📁 项目结构说明

```
git-team-xt-mt/
├── README.md                   # 项目文档（已完成）
├── .gitignore                  # Git忽略文件配置
├── compile.bat                 # Windows编译脚本
├── 操作指南.md                 # 本文件
├── src/                        # 源代码目录
│   ├── main.c                  # 主程序 ✅
│   ├── student_info.c          # 学生信息录入模块 ✅（组员负责）
│   ├── student_info.h          # 学生信息录入头文件 ✅
│   ├── score_calculate.c       # 成绩计算模块 ✅（组长负责）
│   ├── score_calculate.h       # 成绩计算头文件 ✅
│   ├── score_query.c           # 成绩查询模块 ✅（组员负责）
│   ├── score_query.h           # 成绩查询头文件 ✅
│   ├── data_storage.c          # 数据存储模块 ✅（组长负责）
│   └── data_storage.h          # 数据存储头文件 ✅
└── data/                       # 数据文件目录
    └── students.txt            # 学生数据文件 ✅
```

---

## 🚀 第一步：推送代码到GitHub（组长操作）

### 方法1：直接推送（如果网络正常）

```bash
# 当前已在 D:\gitcode\git-team-xt-mt 目录

# 推送到远程仓库
git push -u origin main
```

### 方法2：如果遇到网络问题

1. 在GitHub仓库页面手动上传文件
2. 或者配置Git代理后再推送

---

## 👥 第二步：添加协作者（组长操作）

1. 打开 GitHub 仓库：https://github.com/你的用户名/git-team-xt-mt
2. 点击 `Settings`（设置）
3. 左侧菜单点击 `Collaborators`（协作者）
4. 点击 `Add people`（添加人员）
5. 输入mt的 GitHub 用户名，发送邀请

---

## 🌿 第三步：创建功能分支（双方操作）

### 组长（xt）创建分支

```bash
# 创建并切换到"成绩计算"功能分支
git checkout -b feature-成绩计算

# 创建并切换到"数据存储"功能分支
git checkout -b feature-数据存储
```

### 组员（mt）创建分支

```bash
# 先克隆仓库（如果还没克隆）
git clone https://github.com/你的用户名/git-team-xt-mt.git
cd git-team-xt-mt

# 创建并切换到"学生信息录入"功能分支
git checkout -b feature-学生信息录入

# 创建并切换到"成绩查询"功能分支
git checkout -b feature-成绩查询
```

---

## 💻 第四步：模块开发（按分工）

### 组长负责的模块

#### 1. 成绩计算模块（已完成框架）
**文件**：`src/score_calculate.c` 和 `src/score_calculate.h`

**功能**：
- ✅ `calculate_scores()` - 计算单个学生总分和平均分
- ✅ `calculate_all_scores()` - 计算所有学生成绩
- ✅ `display_score_statistics()` - 显示成绩统计（含等级评定）

**开发建议**：
```bash
# 切换到成绩计算分支
git checkout feature-成绩计算

# 修改代码（已有完整实现，可以优化或测试）
# 比如添加最高分、最低分统计等

# 提交修改
git add src/score_calculate.c
git commit -m "完善成绩计算模块：添加总分和平均分计算功能"

# 再次修改
git commit -m "添加成绩等级评定功能"

# 推送到远程
git push origin feature-成绩计算
```

#### 2. 数据存储模块（已完成框架）
**文件**：`src/data_storage.c` 和 `src/data_storage.h`

**功能**：
- ✅ `save_to_file()` - 保存所有数据到文件
- ✅ `load_from_file()` - 从文件读取数据
- ✅ `append_to_file()` - 追加单条记录

**开发建议**：
```bash
# 切换到数据存储分支
git checkout feature-数据存储

# 修改代码（已有完整实现）
git add src/data_storage.c
git commit -m "实现学生数据保存到文件功能"

# 继续完善
git commit -m "添加数据读取和追加功能"

# 推送到远程
git push origin feature-数据存储
```

### 组员负责的模块

#### 1. 学生信息录入模块（已完成框架）
**文件**：`src/student_info.c` 和 `src/student_info.h`

**功能**：
- ✅ `input_student_info()` - 录入单个学生信息
- ✅ `input_multiple_students()` - 批量录入

**开发建议**：
```bash
# 切换到学生信息录入分支
git checkout feature-学生信息录入

# 修改代码
git add src/student_info.c
git commit -m "实现学生姓名和学号录入功能"

# 继续完善
git commit -m "添加各科成绩录入和数据验证"

# 推送到远程
git push origin feature-学生信息录入
```

#### 2. 成绩查询模块（已完成框架）
**文件**：`src/score_query.c` 和 `src/score_query.h`

**功能**：
- ✅ `query_by_student_id()` - 按学号查询
- ✅ `query_by_name()` - 按姓名查询
- ✅ `display_student_info()` - 显示单个学生信息
- ✅ `display_all_students()` - 显示所有学生（表格形式）

**开发建议**：
```bash
# 切换到成绩查询分支
git checkout feature-成绩查询

# 修改代码
git add src/score_query.c
git commit -m "实现按学号查询学生功能"

# 继续完善
git commit -m "添加按姓名查询和信息显示功能"

# 推送到远程
git push origin feature-成绩查询
```

---

## ⚔️ 第五步：制造分支冲突场景（重要！）

### 场景设计：同时修改主函数

两人都修改 `src/main.c` 中的菜单显示部分，制造冲突。

#### 组长操作：
```bash
git checkout main
git pull origin main

# 修改 main.c 的菜单（比如添加功能8）
# 在 display_menu() 函数中添加：
# printf("  8. 统计班级平均分\n");

git add src/main.c
git commit -m "在主菜单添加统计功能选项"
git push origin main
```

#### 组员操作（同时进行）：
```bash
git checkout main
# 不要 git pull！直接修改

# 修改 main.c 的菜单（比如修改界面样式）
# 在 display_menu() 函数中修改显示格式

git add src/main.c
git commit -m "优化主菜单显示样式"
git push origin main  # 这时会提示冲突！
```

#### 解决冲突：
```bash
# 拉取最新代码
git pull origin main

# Git会提示冲突，打开 src/main.c
# 会看到冲突标记：
# <<<<<<< HEAD
# （你的修改）
# =======
# （远程的修改）
# >>>>>>> ...

# 手动编辑文件，保留需要的内容
# 删除冲突标记

# 解决后提交
git add src/main.c
git commit -m "解决主菜单修改冲突：合并统计功能和样式优化"
git push origin main
```

**截图要求**：
- 截图1：冲突提示信息
- 截图2：带冲突标记的代码
- 截图3：解决后的代码
- 截图4：成功合并的提交记录

---

## 📤 第六步：发起 Pull Request

### 在 GitHub 网页操作：

1. 进入仓库页面
2. 切换到你的功能分支
3. 点击 `Pull request` 按钮
4. 填写 PR 标题：`[功能分支] 模块名 - 姓名`
   - 例如：`[feature-成绩计算] 成绩计算模块 - xt`
5. 填写 PR 描述，说明完成的功能
6. 提交 PR

### 组长审核 PR：

1. 查看代码变更
2. 测试功能
3. 点击 `Merge pull request` 合并
4. 删除已合并的分支（可选）

---

## 🧪 第七步：编译和测试

### Windows系统：

```bash
# 方法1：使用编译脚本
compile.bat

# 方法2：手动编译
gcc src/main.c src/student_info.c src/score_calculate.c src/score_query.c src/data_storage.c -o student_system.exe

# 运行程序
student_system.exe
```

### Linux/Mac系统：

```bash
gcc src/main.c src/student_info.c src/score_calculate.c src/score_query.c src/data_storage.c -o student_system

./student_system
```

### 测试功能清单：

- [ ] 录入学生信息
- [ ] 计算总分和平均分
- [ ] 按学号查询
- [ ] 按姓名查询
- [ ] 显示所有学生
- [ ] 保存数据到文件
- [ ] 从文件加载数据
- [ ] 退出系统

---

## 📊 第八步：准备演示材料

### 需要准备：

1. **个人仓库链接**
   - Fork的仓库地址
   - PR链接

2. **小组仓库地址**
   - https://github.com/leungxi413/LXT-LMT-git-team

3. **截图材料**
   - 分支结构截图
   - 提交记录截图
   - 冲突解决过程截图
   - 程序运行截图

4. **代码演示**
   - 能够编译运行
   - 各模块功能正常

---

## 📝 常用 Git 命令总结

```bash
# 查看当前状态
git status

# 查看分支
git branch

# 切换分支
git checkout 分支名

# 创建并切换分支
git checkout -b 新分支名

# 拉取最新代码
git pull origin main

# 添加文件到暂存区
git add 文件名
git add .              # 添加所有文件

# 提交
git commit -m "提交说明"

# 推送到远程
git push origin 分支名

# 查看提交历史
git log
git log --oneline      # 简洁显示

# 合并分支
git merge 分支名

# 查看远程仓库
git remote -v
```

---

## ⚠️ 注意事项

1. **提交信息要清晰**：说明本次修改的具体内容
2. **每次开发前先拉取**：`git pull` 获取最新代码
3. **小步提交**：每完成一个小功能就提交一次
4. **代码要有注释**：便于理解和维护
5. **测试后再推送**：确保代码能正常编译运行
6. **遇到问题及时沟通**：不要独自纠结

---

## 🎯 任务完成检查清单

### 组长任务：
- [x] 创建小组专属仓库
- [ ] 添加组员为协作者
- [x] 编写 README.md
- [x] 创建项目框架
- [x] 实现成绩计算模块
- [x] 实现数据存储模块
- [ ] 审核组员 PR
- [ ] 参与冲突解决
- [ ] 准备演示材料

### 组员任务：
- [ ] 克隆仓库到本地
- [ ] 创建功能分支
- [ ] 实现学生信息录入模块（至少2次提交）
- [ ] 实现成绩查询模块（至少2次提交）
- [ ] 发起 PR
- [ ] 参与冲突解决
- [ ] 准备演示材料

### 共同任务：
- [ ] 制造并解决分支冲突
- [ ] 截图记录完整过程
- [ ] 测试所有功能模块
- [ ] 准备线上演示

---

## 🔗 相关链接

- GitHub仓库：https://github.com/leungxi413/LXT-LMT-git-team
- Git官方文档：https://git-scm.com/doc
- C语言参考：https://zh.cppreference.com/

祝开发顺利！💪


